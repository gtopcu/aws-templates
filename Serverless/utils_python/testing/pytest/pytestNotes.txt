
# https://docs.pytest.org/en/8.0.x/
# https://blog.newmathdata.com/advanced-unit-testing-in-aws-a666e787aa99
# https://docs.pytest.org/en/stable/how-to/monkeypatch.html
#Â https://pytest-mock.readthedocs.io/en/latest/usage.html
# https://docs.python.org/3/library/unittest.mock.html#patch

# http://httpbin.org/

pytest.ini must be at project root dir
tests should be in /tests folder
test class names should be test_*.py *_test.py
test method names should be test_*

pytest
pytest-env (installed with pytest)
pytest-mock
pytest-cov
coverage
moto

pytest --verbose (-v)
pytest -vs
pytest -vsco
pytest test_class.py -v (verbose) -s(show print) -c(code coverage)
pytest test_class.py::test_method
pytest test_mod.py::TestClass::test_method
pytest tests/
pytest --pyargs pkg.testing
pytest test_unit.py -x (stop after failure) --maxfail=2 (stop after two failures)

pytest --fixtures           -> shows builtin and custom fixtures
pytest -q                   -> quiet mode
pytest --runslow            -> run all tests decorated with the @pytest.mark.slow decorator
pytest -m slow              -> run all tests decorated with the @pytest.mark.slow decorator
pytest --durations=10 -vv   -> get a list of the slowest 10 test durations
pytest --durations=10 --durations-min=1.0 -vv -> get a list of the slowest 10 test durations over 1.0s

pip install pytest
pip install -U coverage
# pytest  -vs  
coverage run -m pytest  -vs 
python -m coverage run -m pytest
coverage report -m

