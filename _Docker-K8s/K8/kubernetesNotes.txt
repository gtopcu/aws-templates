

Build a CI/CD Deployment Pipeline, and Monitor a Kubernetes Cluster on Amazon EKS
https://cmakkaya.medium.com/step-by-step-tutorial-to-set-up-build-a-ci-cd-deployment-pipeline-and-monitor-a-kubernetes-f210c850a8e1

kubeconfig -> /Users/gtopcu/.kube/config

ğ¤ğ®ğ›ğğœğ­ğ¥ ğ ğğ­
kubectl get all
kubectl get nodes
kubectl get ns
kubectl get pod
kubectl get pods -n mynamespace
kubectl get deployments
kubectl get services
kubectl get svc -n mynamespace
kubectl get secret

ğ¤ğ®ğ›ğğœğ­ğ¥ ğğğ¬ğœğ«ğ¢ğ›ğ
kubectl describe pod my-pod
kubectl describe node my-nod

ğ¤ğ®ğ›ğğœğ­ğ¥ ğœğ«ğğšğ­ğ
kubectl create -f my-deployment.yaml
kubectl create ns mynamespace

ğ¤ğ®ğ›ğğœğ­ğ¥ ğšğ©ğ©ğ¥ğ²
kubectl apply -n mynamespace -f my-deployment.yaml

ğ¤ğ®ğ›ğğœğ­ğ¥ ğğğ¥ğğ­ğ
kubectl delete pod my-pod
kubectl delete service my-service

Debugging and Troubleshooting

ğ¤ğ®ğ›ğğœğ­ğ¥ ğ¥ğ¨ğ ğ¬
kubectl logs my-pod
kubectl logs my-pod -c my-container (specify a container)

ğ¤ğ®ğ›ğğœğ­ğ¥ ğğ±ğğœ
kubectl exec -it my-pod -- bash (interactive shell)

ğ¤ğ®ğ›ğğœğ­ğ¥ ğ©ğ¨ğ«ğ­-ğŸğ¨ğ«ğ°ğšğ«ğ
kubectl port-forward my-pod 8080:80
kubectl port-forward svc/myservice -n mynamespace 8080:443 --address 0.0.0.0 &

ğ¤ğ®ğ›ğğœğ­ğ¥ ğ­ğ¨ğ©
kubectl top pod (pod resource usage) 
kubectl top node (node resource usage)

ğ¤ğ®ğ›ğğœğ­ğ¥ ğğ±ğ©ğ¥ğšğ¢ğ§
kubectl explain pod 
kubectl explain pod.spec (more specific)

Managing Workloads

ğ¤ğ®ğ›ğğœğ­ğ¥ ğ«ğ¨ğ¥ğ¥ğ¨ğ®ğ­
kubectl rollout status deployment/my-deployment 
kubectl rollout undo deployment/my-deployment

ğ¤ğ®ğ›ğğœğ­ğ¥ ğ¬ğœğšğ¥ğ
kubectl scale deployment/my-deployment --replicas

ğ¤ğ®ğ›ğğœğ­ğ¥ ğğğ¢ğ­
kubectl edit deployment my-deployment



--------------------------------------------------------------------------------


ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™šğ™­ğ™šğ™˜ -ğ™ğ™© [ğ™¥ğ™¤ğ™™-ğ™£ğ™–ğ™¢ğ™š] -- /ğ™—ğ™ğ™£/ğ™—ğ™–ğ™¨ğ™ - When you need to access a pod shell 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™¡ğ™¤ğ™œğ™¨ [ğ™¥ğ™¤ğ™™-ğ™£ğ™–ğ™¢ğ™š] - When you need to fetch pod logs 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™œğ™šğ™© ğ™šğ™«ğ™šğ™£ğ™©ğ™¨- When you need to check recent events
 
ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™©ğ™¤ğ™¥ ğ™¥ğ™¤ğ™™ğ™¨/ğ™£ğ™¤ğ™™ğ™šğ™¨ - When you need to monitor pod/node resource usage 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™™ğ™šğ™¨ğ™˜ğ™§ğ™ğ™—ğ™š ğ™¥ğ™¤ğ™™ [ğ™¥ğ™¤ğ™™-ğ™£ğ™–ğ™¢ğ™š]/ğ™£ğ™¤ğ™™ğ™š [ğ™£ğ™¤ğ™™ğ™š-ğ™£ğ™–ğ™¢ğ™š] - When you need detailed pod/node information 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™¥ğ™¤ğ™§ğ™©-ğ™›ğ™¤ğ™§ğ™¬ğ™–ğ™§ğ™™ [ğ™¥ğ™¤ğ™™-ğ™£ğ™–ğ™¢ğ™š] [ğ™¡ğ™¤ğ™˜ğ™–ğ™¡-ğ™¥ğ™¤ğ™§ğ™©]:[ğ™¥ğ™¤ğ™™-ğ™¥ğ™¤ğ™§ğ™©] - When you need to forward a port to a pod 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™˜ğ™¥ [ğ™¥ğ™¤ğ™™-ğ™£ğ™–ğ™¢ğ™š]:[ğ™¥ğ™–ğ™©ğ™] [ğ™¡ğ™¤ğ™˜ğ™–ğ™¡-ğ™¥ğ™–ğ™©ğ™]- When you need to copy files from pod to local 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™§ğ™¤ğ™¡ğ™¡ğ™¤ğ™ªğ™© ğ™¨ğ™©ğ™–ğ™©ğ™ªğ™¨ ğ™™ğ™šğ™¥ğ™¡ğ™¤ğ™®ğ™¢ğ™šğ™£ğ™© [ğ™™ğ™šğ™¥ğ™¡ğ™¤ğ™®ğ™¢ğ™šğ™£ğ™©-ğ™£ğ™–ğ™¢ğ™š] - When you need to check deployment rollout status 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™™ğ™§ğ™–ğ™ğ™£ [ğ™£ğ™¤ğ™™ğ™š-ğ™£ğ™–ğ™¢ğ™š] - When you need to prepare a node for maintenance 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™˜ğ™¤ğ™§ğ™™ğ™¤ğ™£ [ğ™£ğ™¤ğ™™ğ™š-ğ™£ğ™–ğ™¢ğ™š] - When you need to mark a node as unschedulable 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™ªğ™£ğ™˜ğ™¤ğ™§ğ™™ğ™¤ğ™£ [ğ™£ğ™¤ğ™™ğ™š-ğ™£ğ™–ğ™¢ğ™š] - When you need to mark a node as schedulable 
 
ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™©ğ™–ğ™ğ™£ğ™© ğ™£ğ™¤ğ™™ğ™šğ™¨ [ğ™£ğ™¤ğ™™ğ™š-ğ™£ğ™–ğ™¢ğ™š] ğ™ ğ™šğ™®=ğ™«ğ™–ğ™¡ğ™ªğ™š:ğ™‰ğ™¤ğ™ğ™˜ğ™ğ™šğ™™ğ™ªğ™¡ğ™š - When you need to taint a node 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™šğ™™ğ™ğ™© [ğ™§ğ™šğ™¨ğ™¤ğ™ªğ™§ğ™˜ğ™š] [ğ™£ğ™–ğ™¢ğ™š] - When you need to edit a resource configuration 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™™ğ™šğ™¨ğ™˜ğ™§ğ™ğ™—ğ™š ğ™¨ğ™šğ™§ğ™«ğ™ğ™˜ğ™š [ğ™¨ğ™šğ™§ğ™«ğ™ğ™˜ğ™š-ğ™£ğ™–ğ™¢ğ™š]/ğ™ğ™£ğ™œğ™§ğ™šğ™¨ğ™¨ [ğ™ğ™£ğ™œğ™§ğ™šğ™¨ğ™¨-ğ™£ğ™–ğ™¢ğ™š]/ğ™ğ™¥ğ™– [ğ™ğ™¥ğ™–-ğ™£ğ™–ğ™¢ğ™š] - When you need detailed service/ingress/HPA information 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™œğ™šğ™© ğ™™ğ™–ğ™šğ™¢ğ™¤ğ™£ğ™¨ğ™šğ™©ğ™¨- When you need to check daemonset status 

ğ™ ğ™ªğ™—ğ™šğ™˜ğ™©ğ™¡ ğ™œğ™šğ™© ğ™¨ğ™šğ™˜ğ™§ğ™šğ™©ğ™¨ - When you need to check secret status